import"dotenv/config";import{Command as eo}from"commander";import"dotenv/config";import{existsSync as m,promises as v}from"fs";import a from"path";import X from"gradient-string";import{Command as Y}from"commander";import I from"ora";import{execa as q}from"execa";import x from"prompts";var A=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v1.0.2 

                                                                               
`;import y from"chalk";var e={error(...t){console.log(y.red(...t))},warn(...t){console.log(y.yellow(...t))},info(...t){console.log(y.cyan(...t))},success(...t){console.log(y.green(...t))},break(){console.log("")}};import{z as S}from"zod";import{detect as B}from"@antfu/ni";async function E(t){let s=await B({programmatic:!0,cwd:t});return s==="yarn@berry"?"yarn":s==="pnpm@6"?"pnpm":s==="bun"?"bun":s??"npm"}import H from"path";import V from"fs-extra";function k(){let t=H.join("package.json");return V.readJSONSync(t)}var j=[{name:"React",value:"react"},{name:"Vue",value:"vue"},{name:"Svelte",value:"svelte"},{name:"Html",value:"html"}];process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var Q="https://farmui-api.vercel.app/api/components",Z=S.object({id:S.string(),cwd:S.string()}),oo=["animation","keyframes"];console.log(X("pink","blue")(A));var D=new Y().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com/components").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(t,s)=>{let d=Z.parse({id:t,...s}),f=a.resolve(d.cwd),h=j[0].value;m(f)||(e.error(`There is no ${f} exists your paths.`),process.exit(0));let F="components",G=process.cwd()===d.cwd;try{if(!G)e.info(`The component is being dumped inside of ${f} `);else{let{dir:o}=await x({type:"text",name:"dir",message:"A directory to dump the components? (Leave it blank which default to /components dir) ",hint:"components"});o&&(F=o)}let{fm:l}=await x({type:"select",name:"fm",message:"Which framework do you want to use with?",hint:"Space to select and Enter to submit.",instructions:!1,choices:j.map(o=>({title:o.name,value:o.value,selected:o.value==="react"}))});l&&(h=l),h!=="react"&&(e.error(`We are not currently supporting ${l} on https://farmui.com.`),e.info("Be a part of the community by adding an integration to your favorite framework, go for https://github.com/Kinfe123/farm-ui"),process.exit(0));let O=a.join(f,F),u=a.join(O,"/farmui"),b=I(`Looking for the components with id ${d.id}`);b.start();let R=null,C=[];try{R=await fetch(Q),C=await R.json()}catch{e.error(`
Cant import the components. Please check your network connection`),e.info("If you think this is an bug, Please make an issue - https://github.com/Kinfe123/farm-ui/issues/new"),process.exit(0)}b.succeed(`Found a component. Preview here - https://farmui.com/example/${d.id}`),b.stop();let c=C.find(o=>o.id===d.id);if(c||(e.error("No such component exists with in this ID, Please hop on https://farmui.com/components to double check the component ID"),e.info("If you think this is an bug, Please make an issue - https://github.com/Kinfe123/farm-ui/issues/new"),process.exit(0)),m(u)){let{proceed:o}=await x({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(e.info("Make sure you have the right path to dump the components"),process.exit(0))}else await v.mkdir(u,{recursive:!0});let p=[],U=c.files[0].root.name,P=c.tailwind;if(P){e.info("The components need tailwind.config.(ts/js) change");let o=a.join(process.cwd(),"tailwind.config.js"),n=a.join(process.cwd(),"tailwind.config.ts"),i="ts",r=!0;if(!m(n)&&!m(o)&&(r=!1),!r)e.warn("The tailwind.config.(js/ts) can not be found with in the given directory , Please make sure to intialize your project with tailwindcss or shadcn , may be any UI component library that built on top of tailwind"),e.warn("Please use this instructions to setup your tailwindcss - https://tailwindcss.com/docs/installation"),e.info("Skipping... and importing the components");else{m(o)&&(i="js");let w=`tailwind.config.${i}`,K=a.join(process.cwd(),w),ao=await v.readFile(K,"utf8");oo.map(_=>{if(_ in P){e.info(`For ${_} - copy the following and paste it to your ${w}`);let z=P[_].content;console.log({[_]:z})}})}}let L=c.files[0].root.contents[h].content,J=a.join(u,U),M=[];c[1]&&(M=c.files[1].child),p.push({comp_content:L,comp_path:J}),M.map(o=>{let n=o.name,i=o.contents[h].content,r=a.join(u,n);p.push({comp_content:i,comp_path:r})});let $=I("Dumping your components..."),T=I("Overriting"),g=c.dependencies;p?p.map(async({comp_content:o,comp_path:n})=>{let i=`${n}.tsx`;if(m(i)){let{overwrite:r}=await x({type:"confirm",name:"overwrite",message:"Override already existed component? Proceed?",initial:!0});r?(T=I(`Overwriting the component at ${i}....`),T.start(),await v.writeFile(`${n}.tsx`,o)):e.info(`Skipping: The component ${i} already existed`)}else $.start(),await v.writeFile(`${n}.tsx`,o)}):e.warn("No component to add");let W=await E(f);g?.length&&await q(`${W}`,["install",...g],{cwd:process.cwd()}),$.stop(),T.stop();let N=k().dependencies;if(g.length&&(e.info(`Dependencies - ${g.length} added`),g.map(o=>{let n=(N&&String(N[o]))??"";e.success(` + ${o} @ ${n}`)})),p){let o=u.split("/"),n=o[o.length-2]+"/"+o[o.length-1];e.info(`Components - ${p.length} added inside of ${n}`),p.map(i=>{let r=i.comp_path.split("/"),w=r[r.length-1];e.success(` + ${w}`)})}$.succeed("Successfully installed")}catch(l){e.error("Error has occured!"),console.log("Error: ",l)}});process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function to(){let t=await k(),s=new eo().name("farmui").description("Add natively farmed farmUI blocks ").version(t.version||"0.1.0","-v, --version","display the version number");s.addCommand(D),s.parse()}to();
//# sourceMappingURL=index.js.map